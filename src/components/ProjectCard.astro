---
import type { TimelineItem, TimelineItemType } from "../types/timeline";
import { typeColors } from "../types/timeline";

type Props = Omit<TimelineItem, "date">;

const { name, description, link, type, role, company } = Astro.props;
---

<a
  href={link}
  class="group relative flex flex-col gap-3 p-5 rounded-xl transition-all hover:translate-x-1
hover:shadow-lg border border-neutral-200/80 bg-white/80 backdrop-blur-md"
>
  <!-- Subtle gradient overlay -->
  <div
    class="absolute inset-0 rounded-xl bg-gradient-to-br from-white/50 to-transparent
  opacity-0 group-hover:opacity-100 transition-opacity"
  >
  </div>

  <div class="flex flex-col gap-2.5 relative">
    <div class="flex items-start justify-between">
      <div class="flex flex-col gap-1.5">
        <h3
          class="text-lg font-semibold text-neutral-900 group-hover:text-neutral-800
        transition-colors"
        >
          {name}
        </h3>
        <div class="flex items-center text-sm text-neutral-600">
          {role && <span class="font-medium text-neutral-700">{role}</span>}
          {role && company && <span class="mx-2 text-neutral-400">Â·</span>}
          {company && <span class="text-neutral-600">{company}</span>}
          {
            !role && !company && (
              <span class="italic text-neutral-500">Independent Project</span>
            )
          }
        </div>
      </div>
      <span
        class={`text-xs font-medium px-2.5 py-1 rounded-full uppercase tracking-wide 
        ${typeColors[type]} transition-colors duration-200 shadow-sm`}
      >
        {type}
      </span>
    </div>

    <p
      class="text-sm text-neutral-600 leading-relaxed mt-1 group-hover:text-neutral-700
    transition-colors"
    >
      {description}
    </p>
  </div>

  <!-- Subtle arrow indicator -->
  <div
    class="absolute right-4 bottom-4 opacity-0 transform translate-x-2
  group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-200"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      width="16"
      height="16"
      viewBox="0 0 24 24"
      fill="none"
      stroke="currentColor"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="text-neutral-400"
    >
      <path d="M5 12h14"></path>
      <path d="m12 5 7 7-7 7"></path>
    </svg>
  </div>
</a>
